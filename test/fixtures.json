[
  {
    "description": "singular output, no remainder",
    "feePerKb": 10000,
    "outputs": [100000],
    "unspents": [102000],
    "expected": {
      "fee": 2000,
      "inputs": [0],
      "remainder": 0
    }
  },
  {
    "description": "singular output, remainder expected",
    "feePerKb": 10000,
    "outputs": [100000],
    "unspents": [106000],
    "expected": {
      "fee": 2240,
      "inputs": [0],
      "remainder": 3760
    }
  },
  {
    "description": "singular output, fee > 10000, no remainder",
    "feePerKb": 10000,
    "outputs": [60000],
    "unspents": [10000, 10000, 10000, 10000, 10000, 10000, 10000, 2600],
    "expected": {
      "fee": 12600,
      "inputs": [0, 1, 2, 3, 4, 5, 6, 7],
      "remainder": 0
    }
  },
  {
    "description": "singular output, fee > 10000, remainder expected",
    "feePerKb": 10000,
    "outputs": [60000],
    "unspents": [10000, 10000, 10000, 10000, 10000, 10000, 10000, 2601],
    "expected": {
      "fee": 12600,
      "inputs": [0, 1, 2, 3, 4, 5, 6, 7],
      "remainder": 1
    }
  },
  {
    "description": "singular output, non-integer feePerKb, rounded fee",
    "feePerKb": 10000.9,
    "outputs": [100000],
    "unspents": [102000],
    "expected": {
      "fee": 2000,
      "inputs": [0],
      "remainder": 0
    }
  },
  {
    "description": "multiple outputs, no remainder",
    "feePerKb": 10000,
    "outputs": [35000, 5000, 5000, 1000],
    "unspents": [30000, 12220, 10000],
    "expected": {
      "fee": 6220,
      "inputs": [0, 1, 2],
      "remainder": 0
    }
  },
  {
    "description": "multiple outputs, remainder expected",
    "feePerKb": 10000,
    "outputs": [35000, 5000, 5000, 1000],
    "unspents": [30000, 12220, 10001],
    "expected": {
      "fee": 6220,
      "inputs": [0, 1, 2],
      "remainder": 1
    }
  },
  {
    "description": "singular output, no fee, remainder expected",
    "feePerKb": 0,
    "unspents": [5000, 5000, 5000, 5000, 5000, 5000],
    "outputs": [28000],
    "expected": {
      "fee": 0,
      "inputs": [0, 1, 2, 3, 4, 5],
      "remainder": 2000
    }
  },
  {
    "description": "multiple outputs, no fee, remainder expected",
    "feePerKb": 0,
    "unspents": [5000, 5000, 5000, 5000, 5000, 5000],
    "outputs": [28000, 1000],
    "expected": {
      "fee": 0,
      "inputs": [0, 1, 2, 3, 4, 5],
      "remainder": 1000
    }
  },
  {
    "description": "no outputs, no remainder",
    "feePerKb": 10000,
    "outputs": [],
    "unspents": [1900],
    "expected": {
      "fee": 1900,
      "inputs": [0],
      "remainder": 0
    }
  },
  {
    "description": "no outputs, remainder expected",
    "feePerKb": 10000,
    "outputs": [],
    "unspents": [2000],
    "expected": {
      "fee": 1900,
      "inputs": [0],
      "remainder": 100
    }
  },
  {
    "description": "not enough funds, empty result",
    "feePerKb": 10000,
    "outputs": [40000],
    "unspents": [20000],
    "expected": {
      "fee": 1900,
      "inputs": null
    }
  },
  {
    "description": "not enough funds (w/ fee), empty result",
    "feePerKb": 10000,
    "outputs": [40000],
    "unspents": [40000],
    "expected": {
      "fee": 1900,
      "inputs": null
    }
  },
  {
    "description": "not enough funds (fee > 10000), empty result",
    "feePerKb": 10000,
    "outputs": [900000],
    "unspents": [10000, 10000, 10000, 10000, 10000, 10000, 10000, 10000],
    "expected": {
      "fee": 12260,
      "inputs": null
    }
  },
  {
    "description": "no unspents, empty result",
    "feePerKb": 10000,
    "outputs": [],
    "unspents": [],
    "expected": {
      "fee": 80,
      "inputs": null
    }
  },
  {
    "description": "no unspents, empty result (>1KiB)",
    "feePerKb": 10000,
    "outputs": [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    "unspents": [],
    "expected": {
      "fee": 9940,
      "inputs": null
    }
  }
]
